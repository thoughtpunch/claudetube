# Ralph Progress - claudetube

## Codebase Notes

Architecture (refactored v0.4.0):
```
src/claudetube/
├── models/          # Data models (VideoResult, VideoURL, VideoFile, VideoState)
├── config/          # Configuration (quality tiers, providers, defaults)
├── tools/           # External tool wrappers (yt_dlp, ffmpeg, whisper)
├── cache/           # Cache management (manager, scenes, storage)
├── operations/      # High-level ops (download, transcribe, extract_frames, playlist)
├── analysis/        # Analysis modules (linguistic, pause, vocabulary, visual)
├── parsing/         # URL parsing utilities
├── utils/           # Shared utilities (logging, formatting, system)
├── mcp_server.py    # MCP tool definitions
└── cli.py           # Command line interface
```

Cache location: `~/.claude/video_cache/{video_id}/`
Playlist cache: `~/.claude/video_cache/playlists/{playlist_id}/`

---

## Iteration Log

(Entries appended by ralph-beads.sh when running)

---
- 2026-02-01 14:38 | claudetube-i3x [P2] | Implement VideoMemory class
- 2026-02-01 14:43 | claudetube-j2j [P2] | Multi-pass analysis depths
- 2026-02-01 14:50 | claudetube-jzb [P3] | Cross-video knowledge graph for playlists
- 2026-02-01 14:56 | claudetube-pow [P3] | Support local embedding models
- 2026-02-01 14:58 | claudetube-bv5 [P3] | Track objects and concepts across scenes
- 2026-02-01 15:06 | claudetube-h5b [P3] | Cross-video knowledge graph
- 2026-02-01 15:14 | claudetube-175 [P3] | Interaction-driven cache enrichment
- 2026-02-01 15:24 | claudetube-9i5 [P3] | Implement ActiveVideoWatcher class
- 2026-02-01 15:31 | claudetube-awk [P3] | Implement attention priority modeling
- 2026-02-01 15:52 | claudetube-bst [P0] | Create Provider Base Module Structure
- 2026-02-01 15:56 | claudetube-gpx [P0] | Define Provider Protocols and Base Classes
- 2026-02-01 16:01 | claudetube-cqq [P0] | Define Result Types and Schemas
- 2026-02-01 16:09 | claudetube-p5o [P0] | Define Capability Enum and ProviderInfo
- 2026-02-01 16:14 | claudetube-2su [P0] | Create Provider Registry
- 2026-02-01 16:15 | claudetube-wnb.1 [P2] | Add yt-dlp AD Track Detection
- 2026-02-01 16:15 | claudetube-wnb.1 [P2] | Add yt-dlp AD Track Detection
- 2026-02-01 16:15 | claudetube-wnb.1 [P2] | Add yt-dlp AD Track Detection
- 2026-02-01 16:15 | claudetube-wnb.1 [P2] | Add yt-dlp AD Track Detection
- 2026-02-01 16:16 | claudetube-wnb.1 [P2] | Add yt-dlp AD Track Detection
- 2026-02-01 16:16 | claudetube-wnb.1 [P2] | Add yt-dlp AD Track Detection
- 2026-02-01 16:16 | claudetube-wnb.1 [P2] | Add yt-dlp AD Track Detection
- 2026-02-01 16:16 | claudetube-wnb.1 [P2] | Add yt-dlp AD Track Detection
- 2026-02-01 16:16 | claudetube-wnb.1 [P2] | Add yt-dlp AD Track Detection
- 2026-02-01 16:16 | claudetube-wnb.1 [P2] | Add yt-dlp AD Track Detection
- 2026-02-01 16:17 | claudetube-wnb.1 [P2] | Add yt-dlp AD Track Detection
- 2026-02-01 16:17 | claudetube-wnb.1 [P2] | Add yt-dlp AD Track Detection
- 2026-02-01 16:17 | claudetube-wnb.1 [P2] | Add yt-dlp AD Track Detection
- 2026-02-01 16:17 | claudetube-wnb.1 [P2] | Add yt-dlp AD Track Detection
- 2026-02-01 16:20 | claudetube-wnb.1 [P2] | Add yt-dlp AD Track Detection
- 2026-02-01 16:23 | claudetube-wnb.5 [P2] | Extend State Model for AD
- 2026-02-01 16:27 | claudetube-wnb.2 [P2] | Implement Scene Description Compiler
- 2026-02-01 16:34 | claudetube-did [P3] | Implement comprehension verification
- 2026-02-01 16:43 | claudetube-p0c [P0] | Create Configuration Loader for Providers
- 2026-02-01 16:50 | claudetube-a33 [P0] | Implement ClaudeCodeProvider
- 2026-02-01 16:55 | claudetube-hdt [P0] | Implement OpenAIProvider
- 2026-02-01 17:03 | claudetube-w1c [P0] | Implement GoogleProvider (Gemini)
- 2026-02-01 17:56 | claudetube-wnb.3 [P2] | Add Provider Integration for AD Generation
- 2026-02-01 18:05 | claudetube-cm3 [P0] | Refactor TranscribeOperation
- 2026-02-01 18:11 | claudetube-u2a [P0] | Refactor VisualTranscriptOperation
- 2026-02-01 18:21 | claudetube-29f [P0] | Refactor EntityExtractionOperation
- 2026-02-01 18:30 | claudetube-z4b [P1] | Refactor PersonTrackingOperation
- 2026-02-01 18:41 | claudetube-os2 [P0] | Create OperationFactory
- 2026-02-01 18:46 | claudetube-wnb.4 [P2] | Add AD MCP Tools
- 2026-02-01 19:47 | claudetube-wnb.4 [P2] | Add AD MCP Tools
- 2026-02-01 20:03 | claudetube-bdj [P3] | Add /yt:watch command for active viewing
- 2026-02-01 20:19 | claudetube-i4c [P3] | Wire attention priority modeling into ActiveVideoWatcher
